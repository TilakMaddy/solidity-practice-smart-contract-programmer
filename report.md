# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: `abi.encodePacked()` should not be used with dynamic types when passing the result to a hash function such as `keccak256()`](#h-1-abiencodepacked-should-not-be-used-with-dynamic-types-when-passing-the-result-to-a-hash-function-such-as-keccak256)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk for trusted owners](#l-1-centralization-risk-for-trusted-owners)
  - [L-2: Missing checks for `address(0)` when assigning values to address state variables](#l-2-missing-checks-for-address0-when-assigning-values-to-address-state-variables)
  - [L-3: `public` functions not used internally could be marked `external`](#l-3-public-functions-not-used-internally-could-be-marked-external)
  - [L-4: Define and use `constant` variables instead of using literals](#l-4-define-and-use-constant-variables-instead-of-using-literals)
  - [L-5: Empty `require()` / `revert()` statements](#l-5-empty-require--revert-statements)
  - [L-6: Modifiers invoked only once can be shoe-horned into the function](#l-6-modifiers-invoked-only-once-can-be-shoe-horned-into-the-function)
  - [L-7: Empty Block](#l-7-empty-block)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 11 |
| Total nSLOC | 180 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/basics/Arr.sol | 29 |
| src/basics/Constants.sol | 9 |
| src/basics/DefaultValues.sol | 8 |
| src/basics/ErrorTypes.sol | 21 |
| src/basics/FunctionOutputs.sol | 1 |
| src/basics/GlobalVars.sol | 9 |
| src/basics/IfElse.sol | 6 |
| src/basics/Map.sol | 25 |
| src/basics/Modif.sol | 12 |
| src/basics/Ownable.sol | 15 |
| src/basics/Proxy.sol | 45 |
| **Total** | **180** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 1 |
| Low | 7 |


# High Issues

## H-1: `abi.encodePacked()` should not be used with dynamic types when passing the result to a hash function such as `keccak256()`

Use `abi.encode()` instead which will pad items to 32 bytes, which will [prevent hash collisions](https://docs.soliditylang.org/en/v0.8.13/abi-spec.html#non-standard-packed-mode) (e.g. `abi.encodePacked(0x123,0x456)` => `0x123456` => `abi.encodePacked(0x1,0x23456)`, but `abi.encode(0x123,0x456)` => `0x0...1230...456`). Unless there is a compelling reason, `abi.encode` should be preferred. If there is only one argument to `abi.encodePacked()` it can often be cast to `bytes()` or `bytes32()` [instead](https://ethereum.stackexchange.com/questions/30912/how-to-compare-strings-in-solidity#answer-82739).
If all arguments are strings and or bytes, `bytes.concat()` should be used instead.

- Found in src/basics/Proxy.sol [Line: 58](src/basics/Proxy.sol#L58)

	```solidity
	        bytes memory code2 = abi.encodePacked(temp, abi.encode(3, 4));
	```



# Low Issues

## L-1: Centralization Risk for trusted owners

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

- Found in src/basics/Ownable.sol [Line: 16](src/basics/Ownable.sol#L16)

	```solidity
	    function setOwner(address newOwner) external onlyOwner {
	```



## L-2: Missing checks for `address(0)` when assigning values to address state variables

Check for `address(0)` when assigning values to address state variables.

- Found in src/basics/Map.sol [Line: 22](src/basics/Map.sol#L22)

	```solidity
	        balances[key] = bal;
	```



## L-3: `public` functions not used internally could be marked `external`

Instead of marking a function as `public`, consider marking it as `external` if it is not used internally.

- Found in src/basics/Modif.sol [Line: 13](src/basics/Modif.sol#L13)

	```solidity
	    function a() public sandwich(5) {
	```



## L-4: Define and use `constant` variables instead of using literals

If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

- Found in src/basics/ErrorTypes.sol [Line: 10](src/basics/ErrorTypes.sol#L10)

	```solidity
	        require(x < 10, "x is greater than or eq 10");
	```

- Found in src/basics/ErrorTypes.sol [Line: 17](src/basics/ErrorTypes.sol#L17)

	```solidity
	                if (x >= 10) {
	```



## L-5: Empty `require()` / `revert()` statements

Use descriptive reason strings or custom errors for revert paths.

- Found in src/basics/Proxy.sol [Line: 24](src/basics/Proxy.sol#L24)

	```solidity
	            revert();
	```



## L-6: Modifiers invoked only once can be shoe-horned into the function



- Found in src/basics/Modif.sol [Line: 7](src/basics/Modif.sol#L7)

	```solidity
	    modifier sandwich(uint c) {
	```

- Found in src/basics/Ownable.sol [Line: 11](src/basics/Ownable.sol#L11)

	```solidity
	    modifier onlyOwner {
	```



## L-7: Empty Block

Consider removing empty blocks.

- Found in src/basics/ErrorTypes.sol [Line: 25](src/basics/ErrorTypes.sol#L25)

	```solidity
	    function testAssert() external {
	```

- Found in src/basics/Proxy.sol [Line: 31](src/basics/Proxy.sol#L31)

	```solidity
	    function test1() external pure {
	```

- Found in src/basics/Proxy.sol [Line: 41](src/basics/Proxy.sol#L41)

	```solidity
	     function test2() external pure {
	```



